@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

/* ベースリセットちょっとだけ */
html,
body {
  margin: 0;
  padding: 0;
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
    Arial, Helvetica, sans-serif;
}

/* 公開本棚：全体レイアウト（中央寄せ） */
main {
  max-width: 1200px;
  margin: 0 auto;
  padding: 24px 16px 40px;
}

/* 公開本棚：カードグリッド */

/* スマホ：2カラム */
.book-grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 20px;
  align-items: stretch;
}

/* タブレット以上：余白ちょい広め */
@media (min-width: 768px) {
  main {
    padding: 32px 24px 48px;
  }

  .book-grid {
    gap: 24px;
  }
}

/* PC：4カラム */
@media (min-width: 1024px) {
  .book-grid {
    grid-template-columns: repeat(4, minmax(0, 1fr));
  }
}

/* ダッシュボードメニューボタン：レスポンシブ対応 */
/* デフォルト: PCではテキスト表示、アイコン非表示 */
.menu-button-icon {
  display: none;
}
.menu-button-text {
  display: inline;
}

/* スマホ（768px以下）: アイコン表示、テキスト非表示、丸ボタン */
@media (max-width: 768px) {
  .menu-button {
    padding: 10px !important;
    width: 44px;
    height: 44px;
    border-radius: 50% !important;
  }
  .menu-button-icon {
    display: block;
  }
  .menu-button-text {
    display: none;
  }
}

/* ダッシュボードレイアウト：レスポンシブ対応 */
.dashboard-layout-container {
  display: flex;
  min-height: 100vh;
}

.dashboard-main-content {
  flex: 1;
  width: 0; /* flexboxで正しく縮小させるため */
}

@media (min-width: 768px) {
  /* PC: SidebarとMainを並べて、24pxのgapを設定 */
  .dashboard-layout-container {
    gap: 24px; /* SidebarとMainの間に24pxの余白 */
  }
  .dashboard-main-content {
    margin-left: 0; /* gapを使うのでmargin-leftは不要 */
    width: auto; /* flex: 1で自動調整 */
    flex: 1;
  }
  .dashboard-main-content main {
    padding-left: 0 !important;
    padding-right: 20px !important;
    margin-left: 0 !important;
    max-width: none !important;
  }
  .sidebar {
    position: relative !important;
    left: auto !important;
    top: auto !important;
    transform: none !important;
    height: 100vh !important;
    width: 200px !important;
    flex-shrink: 0 !important;
    border-right: 1px solid #e5e7eb !important;
    box-sizing: border-box !important;
    z-index: auto !important;
  }
  .menu-toggle {
    display: none !important;
  }
}

@media (max-width: 767px) {
  /* スマホ: Sidebarはfixed、Mainは全幅 */
  .dashboard-layout-container {
    gap: 0; /* スマホではgap不要（fixed要素はflexboxから外れる） */
  }
  .dashboard-main-content {
    margin-left: 0; /* サイドバーが閉じている時は0 */
    padding-top: 60px;
    width: 100%;
    transition: margin-left 0.3s ease; /* サイドバーの開閉に合わせてスムーズに */
  }
  /* サイドバーが開いている時のみmargin-leftを設定 */
  body.sidebar-open-mobile .dashboard-main-content {
    margin-left: 224px; /* サイドバー幅(200px) + 余白(24px) */
    width: calc(100% - 224px);
  }
  .dashboard-main-content main {
    padding-left: 20px !important; /* スマホでは通常のパディング */
  }
  .sidebar {
    position: fixed !important;
  }
}
